{
  "space_id": "01f10d0ff1901eb193810415e62b6c99",
  "title": "DC_inventory",
  "description": "This Genie room provides the visibility in to the current inventory status at each DC by product",
  "warehouse_id": "b9771bcf4a3a5399",
  "serialized_space": "{\n  \"version\": 2,\n  \"data_sources\": {\n    \"tables\": [\n      {\n        \"identifier\": \"snowflake_retail_consumer_goods.supply_chain_control_tower.dim_product\",\n        \"column_configs\": [\n          {\n            \"column_name\": \"cost_per_unit\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Unit cost of the product, used to calculate total inventory value (total_qty \\u00d7 cost_per_unit).\"\n            ]\n          },\n          {\n            \"column_name\": \"name\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The name of the product held in inventory at the DC.\"\n            ]\n          },\n          {\n            \"column_name\": \"product_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Unique identifier for the product, used to join with inventory records.\"\n            ]\n          }\n        ],\n        \"description\": [\n          \"Product catalog for items stored in Distribution Centers. Used to identify products in inventory and calculate total inventory value.\"\n        ]\n      },\n      {\n        \"identifier\": \"snowflake_retail_consumer_goods.supply_chain_control_tower.dim_storage_location\",\n        \"column_configs\": [\n          {\n            \"column_name\": \"latitude\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Geographic latitude of the DC for mapping inventory locations.\"\n            ]\n          },\n          {\n            \"column_name\": \"location\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The city or province where the Distribution Center is located.\"\n            ]\n          },\n          {\n            \"column_name\": \"location_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Unique identifier for the Distribution Center. Referenced by dc_id in fact_dc_inventory.\"\n            ]\n          },\n          {\n            \"column_name\": \"location_name\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The name of the Distribution Center where inventory is stored.\"\n            ]\n          },\n          {\n            \"column_name\": \"longitude\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Geographic longitude of the DC for mapping inventory locations.\"\n            ]\n          },\n          {\n            \"column_name\": \"type\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The type of storage location (e.g., Distribution Center, warehouse, or retail store).\"\n            ]\n          }\n        ],\n        \"description\": [\n          \"Distribution Centers (DCs) where product inventory is stored and managed. Used to identify DC names and locations when analyzing inventory levels.\"\n        ]\n      },\n      {\n        \"identifier\": \"snowflake_retail_consumer_goods.supply_chain_control_tower.fact_dc_inventory\",\n        \"column_configs\": [\n          {\n            \"column_name\": \"allocated_qty\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Quantity of product already allocated to fulfill pending customer orders.\"\n            ]\n          },\n          {\n            \"column_name\": \"dc_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"The Distribution Center where this inventory is held. Joins to location_id in dim_storage_location.\"\n            ]\n          },\n          {\n            \"column_name\": \"excess_qty\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Quantity of product exceeding the target inventory level, indicating potential overstock that may need addressing.\"\n            ]\n          },\n          {\n            \"column_name\": \"product_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"The product being tracked in inventory. Joins to product_id in dim_product.\"\n            ]\n          },\n          {\n            \"column_name\": \"safety_stock\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Minimum inventory level required to prevent stockouts. Inventory (total_qty) below this threshold signals stockout risk.\"\n            ]\n          },\n          {\n            \"column_name\": \"snapshot_date\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Date the inventory snapshot was captured. Filter to MAX(snapshot_date) for current inventory levels.\"\n            ]\n          },\n          {\n            \"column_name\": \"total_qty\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Total available inventory quantity at this DC. Compare against safety_stock to assess stockout risk.\"\n            ]\n          }\n        ],\n        \"description\": [\n          \"Daily snapshot of product inventory levels at each Distribution Center. Used to monitor stock health, identify stockout risks (inventory below safety_stock), and track excess inventory across DCs.\"\n        ]\n      }\n    ]\n  },\n  \"instructions\": {\n    \"text_instructions\": [\n      {\n        \"id\": \"00000000000000000000000000000001\",\n        \"content\": [\n          \"DC stands for Distribution Center. dc_id in fact_dc_inventory joins to location_id in dim_storage_location.\\nWhen reporting inventory levels, always include safety_stock for context. Inventory below safety_stock indicates a potential stockout risk.\\nFilter to the most recent snapshot_date unless the user asks for a specific date or historical trend.\\nTotal inventory value = total_qty multiplied by cost_per_unit from dim_product.\"\n        ]\n      }\n    ],\n    \"example_question_sqls\": [\n      {\n        \"id\": \"00000000000000000000000000000002\",\n        \"question\": [\n          \"Which DC has the most excess inventory?\"\n        ],\n        \"sql\": [\n          \"SELECT\\n\",\n          \"  sl.location_name AS dc_name,\\n\",\n          \"  sl.location,\\n\",\n          \"  SUM(fdi.excess_qty) AS total_excess_qty\\n\",\n          \"FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_dc_inventory fdi\\n\",\n          \"JOIN snowflake_retail_consumer_goods.supply_chain_control_tower.dim_storage_location sl ON fdi.dc_id = sl.location_id\\n\",\n          \"WHERE fdi.snapshot_date = (SELECT MAX(snapshot_date) FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_dc_inventory)\\n\",\n          \"GROUP BY sl.location_name, sl.location\\n\",\n          \"ORDER BY total_excess_qty DESC\"\n        ]\n      },\n      {\n        \"id\": \"00000000000000000000000000000003\",\n        \"question\": [\n          \"Show me products at risk of stockout (inventory below safety stock)\"\n        ],\n        \"sql\": [\n          \"SELECT\\n\",\n          \"  p.name AS product_name,\\n\",\n          \"  sl.location_name AS dc_name,\\n\",\n          \"  fdi.total_qty,\\n\",\n          \"  fdi.safety_stock,\\n\",\n          \"  fdi.safety_stock - fdi.total_qty AS shortfall\\n\",\n          \"FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_dc_inventory fdi\\n\",\n          \"JOIN snowflake_retail_consumer_goods.supply_chain_control_tower.dim_product p ON fdi.product_id = p.product_id\\n\",\n          \"JOIN snowflake_retail_consumer_goods.supply_chain_control_tower.dim_storage_location sl ON fdi.dc_id = sl.location_id\\n\",\n          \"WHERE fdi.snapshot_date = (SELECT MAX(snapshot_date) FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_dc_inventory)\\n\",\n          \"  AND fdi.total_qty < fdi.safety_stock\\n\",\n          \"ORDER BY shortfall DESC\"\n        ]\n      },\n      {\n        \"id\": \"00000000000000000000000000000004\",\n        \"question\": [\n          \"What is the total inventory value by DC?\"\n        ],\n        \"sql\": [\n          \"SELECT\\n\",\n          \"  sl.location_name AS dc_name,\\n\",\n          \"  sl.location,\\n\",\n          \"  SUM(fdi.total_qty * p.cost_per_unit) AS total_inventory_value\\n\",\n          \"FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_dc_inventory fdi\\n\",\n          \"JOIN snowflake_retail_consumer_goods.supply_chain_control_tower.dim_product p ON fdi.product_id = p.product_id\\n\",\n          \"JOIN snowflake_retail_consumer_goods.supply_chain_control_tower.dim_storage_location sl ON fdi.dc_id = sl.location_id\\n\",\n          \"WHERE fdi.snapshot_date = (SELECT MAX(snapshot_date) FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_dc_inventory)\\n\",\n          \"GROUP BY sl.location_name, sl.location\\n\",\n          \"ORDER BY total_inventory_value DESC\"\n        ]\n      }\n    ]\n  }\n}\n"
}