{
  "space_id": "01f10d0ff41a1f1bad465c9884729e7e",
  "title": "DC_Shipment_plan",
  "description": "This Genie Room provides the details around the actual demand for the products from each Distribution Center by customer. This data is based on customer orders due to ship within today+5 days.",
  "warehouse_id": "b9771bcf4a3a5399",
  "serialized_space": "{\n  \"version\": 2,\n  \"data_sources\": {\n    \"tables\": [\n      {\n        \"identifier\": \"snowflake_retail_consumer_goods.supply_chain_control_tower.dim_customer\",\n        \"column_configs\": [\n          {\n            \"column_name\": \"customer_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Unique identifier for the customer, used to join with shipping schedule records.\"\n            ]\n          },\n          {\n            \"column_name\": \"latitude\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Geographic latitude of the customer's location for mapping shipment destinations.\"\n            ]\n          },\n          {\n            \"column_name\": \"location\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The city or province where the customer store is located.\"\n            ]\n          },\n          {\n            \"column_name\": \"longitude\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Geographic longitude of the customer's location for mapping shipment destinations.\"\n            ]\n          },\n          {\n            \"column_name\": \"name\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The name of the customer store or retail location receiving the shipment.\"\n            ]\n          }\n        ],\n        \"description\": [\n          \"Customer stores and retail locations that receive scheduled product shipments from Distribution Centers. Used to identify demand by customer and understand shipment destinations.\"\n        ]\n      },\n      {\n        \"identifier\": \"snowflake_retail_consumer_goods.supply_chain_control_tower.dim_product\",\n        \"column_configs\": [\n          {\n            \"column_name\": \"cost_per_unit\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Unit cost of the product, used to calculate total shipment value (qty \\u00d7 cost_per_unit).\"\n            ]\n          },\n          {\n            \"column_name\": \"name\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The name of the product being shipped to customers.\"\n            ]\n          },\n          {\n            \"column_name\": \"product_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Unique identifier for the product, used to join with shipping schedule records.\"\n            ]\n          }\n        ],\n        \"description\": [\n          \"Product catalog for items included in shipping schedules. Used to identify products being shipped and calculate total scheduled shipment value.\"\n        ]\n      },\n      {\n        \"identifier\": \"snowflake_retail_consumer_goods.supply_chain_control_tower.dim_storage_location\",\n        \"column_configs\": [\n          {\n            \"column_name\": \"latitude\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Geographic latitude of the DC for mapping shipment origins.\"\n            ]\n          },\n          {\n            \"column_name\": \"location\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The city or province where the Distribution Center is located.\"\n            ]\n          },\n          {\n            \"column_name\": \"location_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Unique identifier for the Distribution Center. Referenced by location_id in fact_shipping_schedule.\"\n            ]\n          },\n          {\n            \"column_name\": \"location_name\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The name of the Distribution Center from which the shipment departs.\"\n            ]\n          },\n          {\n            \"column_name\": \"longitude\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Geographic longitude of the DC for mapping shipment origins.\"\n            ]\n          },\n          {\n            \"column_name\": \"type\",\n            \"enable_format_assistance\": true,\n            \"enable_entity_matching\": true,\n            \"description\": [\n              \"The type of storage location (e.g., Distribution Center, warehouse, or retail store).\"\n            ]\n          }\n        ],\n        \"description\": [\n          \"Distribution Centers (DCs) from which products are shipped to customers. Used to identify DC names and locations when analyzing shipping volume by departure point.\"\n        ]\n      },\n      {\n        \"identifier\": \"snowflake_retail_consumer_goods.supply_chain_control_tower.fact_shipping_schedule\",\n        \"column_configs\": [\n          {\n            \"column_name\": \"customer_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"The customer receiving the scheduled shipment. Joins to customer_id in dim_customer.\"\n            ]\n          },\n          {\n            \"column_name\": \"location_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"The Distribution Center from which the shipment departs. Joins to location_id in dim_storage_location.\"\n            ]\n          },\n          {\n            \"column_name\": \"product_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"The product scheduled for shipment to the customer.\"\n            ]\n          },\n          {\n            \"column_name\": \"qty\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Quantity of product scheduled for delivery in this shipment line.\"\n            ]\n          },\n          {\n            \"column_name\": \"schedule_date\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"The date on which the product is scheduled to be shipped to the customer.\"\n            ]\n          },\n          {\n            \"column_name\": \"schedule_id\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Unique identifier for each shipping schedule entry.\"\n            ]\n          },\n          {\n            \"column_name\": \"snapshot_date\",\n            \"enable_format_assistance\": true,\n            \"description\": [\n              \"Date this schedule data was captured. The schedule covers orders due to ship within 5 days from this date.\"\n            ]\n          }\n        ],\n        \"description\": [\n          \"Scheduled product deliveries from Distribution Centers to customers, covering orders due to ship within 5 days of the snapshot date. Each row represents one product line in a scheduled customer delivery.\"\n        ]\n      }\n    ]\n  },\n  \"instructions\": {\n    \"text_instructions\": [\n      {\n        \"id\": \"00000000000000000000000000000005\",\n        \"content\": [\n          \"When a question is asked about a customer, always provide their location too.\\nThe shipping schedule covers orders due to ship within the next 5 days from the snapshot date.\\nlocation_id in fact_shipping_schedule refers to the DC from which the shipment departs. It joins to location_id in dim_storage_location.\\nTotal shipment value = qty multiplied by cost_per_unit from dim_product.\"\n        ]\n      }\n    ],\n    \"example_question_sqls\": [\n      {\n        \"id\": \"00000000000000000000000000000006\",\n        \"question\": [\n          \"Which customer has the highest demand?\"\n        ],\n        \"sql\": [\n          \"SELECT\\n\",\n          \"  dc.name AS customer_name,\\n\",\n          \"  dc.location,\\n\",\n          \"  SUM(fss.qty) AS total_demand\\n\",\n          \"FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_shipping_schedule fss\\n\",\n          \"JOIN snowflake_retail_consumer_goods.supply_chain_control_tower.dim_customer dc ON fss.customer_id = dc.customer_id\\n\",\n          \"WHERE fss.qty IS NOT NULL AND dc.name IS NOT NULL\\n\",\n          \"GROUP BY dc.name, dc.location\\n\",\n          \"ORDER BY total_demand DESC\\n\",\n          \"LIMIT 1\"\n        ]\n      },\n      {\n        \"id\": \"00000000000000000000000000000007\",\n        \"question\": [\n          \"What is the total scheduled shipment quantity by DC?\"\n        ],\n        \"sql\": [\n          \"SELECT\\n\",\n          \"  sl.location_name AS dc_name,\\n\",\n          \"  sl.location,\\n\",\n          \"  COUNT(DISTINCT fss.schedule_id) AS shipment_count,\\n\",\n          \"  SUM(fss.qty) AS total_qty\\n\",\n          \"FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_shipping_schedule fss\\n\",\n          \"JOIN snowflake_retail_consumer_goods.supply_chain_control_tower.dim_storage_location sl ON fss.location_id = sl.location_id\\n\",\n          \"WHERE fss.snapshot_date = (SELECT MAX(snapshot_date) FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_shipping_schedule)\\n\",\n          \"GROUP BY sl.location_name, sl.location\\n\",\n          \"ORDER BY total_qty DESC\"\n        ]\n      },\n      {\n        \"id\": \"00000000000000000000000000000008\",\n        \"question\": [\n          \"What are the top 5 products by scheduled shipment volume?\"\n        ],\n        \"sql\": [\n          \"SELECT\\n\",\n          \"  p.name AS product_name,\\n\",\n          \"  SUM(fss.qty) AS total_qty,\\n\",\n          \"  SUM(fss.qty * p.cost_per_unit) AS total_value\\n\",\n          \"FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_shipping_schedule fss\\n\",\n          \"JOIN snowflake_retail_consumer_goods.supply_chain_control_tower.dim_product p ON fss.product_id = p.product_id\\n\",\n          \"WHERE fss.snapshot_date = (SELECT MAX(snapshot_date) FROM snowflake_retail_consumer_goods.supply_chain_control_tower.fact_shipping_schedule)\\n\",\n          \"GROUP BY p.name\\n\",\n          \"ORDER BY total_qty DESC\\n\",\n          \"LIMIT 5\"\n        ]\n      }\n    ]\n  }\n}\n"
}